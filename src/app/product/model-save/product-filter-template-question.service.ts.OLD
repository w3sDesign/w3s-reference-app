import { Injectable, OnInit } from '@angular/core';

import { QuestionBase } from '../../shared/dynamic-form/question-base';
import { ProductService } from '../model/http-product.service';
import { ProductFilterTemplate } from './product-filter-template';
import { Observable } from 'rxjs';
import { filter } from 'rxjs/operators';

@Injectable()
export class ProductFilterTemplateQuestionService implements OnInit {

  test = {value: '>20010'};
  standardFilterTemplate: ProductFilterTemplate;

constructor (private productService: ProductService) {}

ngOnInit() {
  // // this.productFilterTemplates =
  // this.productService.getProductFilterTemplates().pipe
  // .pipe(filter(res => res[0].templateName === 'standard'))
  // .subscribe(
  //   obj => this.standardFilterTemplate = res;
  // );
}

  getQuestions() {

    const questions: QuestionBase[] = [

      {
        key: 'id', // product id
        value: this.test.value,
        label: 'Filter by Id',
        controlType: 'textbox',
        inputType: 'text',
        order: 10,
      },
      {
        key: 'name', // product name
        value: '',
        label: 'Filter by Name',
        controlType: 'textbox',
        inputType: 'text',
        order: 20,
      },
      {
        key: 'city',
        value: '',
        label: 'Filter by City',
        controlType: 'textbox',
        inputType: 'textarea',
        order: 30,
      },
      // {
      //   key: 'cityCheckbox',
      //   value: '',
      //   label: 'Filter by City',
      //   controlType: 'checkbox',  // test checkbox OK
      //   order: 31,
      // },
      {
        key: 'email',
        value: '',
        label: 'Filter by Email',
        controlType: 'textbox',
        inputType: 'text',
        order: 40,
      },
      {
        key: 'status',
        label: 'Filter by Status',
        controlType: 'dropdown',
        options: [
          { key: 'solid', value: 'Solid' },
          { key: 'great', value: 'Great' },
          { key: 'good', value: 'Good' },
          { key: 'unproven', value: 'Unproven' }
        ],
        order: 50


      }];

    return questions.sort((a, b) => a.order - b.order);

  }


}
